{"version":3,"sources":["webpack:///./src/components/Common/PostsWrapper/index.js","webpack:///./src/utils/getPage.js","webpack:///./src/components/Common/Pagination/styled.js","webpack:///./src/components/Common/Pagination/index.jsx","webpack:///./src/components/TaggedList/index.jsx","webpack:///./src/templates/TaggedList.jsx"],"names":["PostsWrapper","styled","section","getPage","pathname","split","type","$2","$3","Number","Wrapper","nav","Pagination","postCount","location","prefix","pageCount","Math","ceil","CONTENT_PER_PAGE","pages","Array","from","cnt","i","page","hasManyPages","PAGE_PER_SCREEN","filteredPages","filter","p","abs","floor","isNearStart","includes","isNearEnd","length","to","map","key","className","propTypes","PropTypes","number","isRequired","shape","string","defaultProps","TaggedList","data","tag","allPosts","getPosts","node","frontmatter","tags","posts","slice","Helmet","PREFIX","toUpperCase","name","content","images","path","otherProps","Card","TaggedListTemplate","props"],"mappings":"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","file":"component---src-templates-tagged-list-jsx-97c8591fb27d8d6a56a5.js","sourcesContent":["import styled from 'styled-components';\n\nconst PostsWrapper = styled.section`\n  margin: auto;\n  padding: 120px 0 0;\n  max-width: 1176px;\n  font-size: 0;\n  @media (max-width: 414px) {\n    padding: 70px 16px 0;\n  }\n\n  &:before,\n  &:after {\n    display: block;\n    content: '';\n    clear: both;\n  }\n\n  h1 {\n    margin: .67em 0;\n    font-size: 32px;\n  }\n\n  time {\n    margin: 1em 0;\n    font-size: 14px;\n  }\n`;\n\nexport default PostsWrapper;\n","const getPage = ({ pathname }) => {\n  const [, type, $2, $3] = pathname.split('/');\n  if (type === 'pages') {\n    return Number($2) || 1;\n  }\n\n  return Number($3) || 1;\n};\n\nexport default getPage;\n","import styled from 'styled-components';\n\nexport const Wrapper = styled.nav`\n  margin: 1em 0;\n  text-align: center;\n\n  ul {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n  }\n\n  li {\n    display: flex;\n    padding: 0 .4em;\n  }\n`;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Link } from 'gatsby';\nimport { FaAngleDoubleLeft, FaAngleDoubleRight, FaAngleLeft, FaAngleRight, FaEllipsisH } from 'react-icons/fa';\nimport { CONTENT_PER_PAGE, PAGE_PER_SCREEN } from '~/constants';\nimport getPage from '~/utils/getPage';\nimport { Wrapper } from './styled';\n\nconst Pagination = ({\n  postCount,\n  location,\n  prefix,\n}) => {\n  const pageCount = postCount ? Math.ceil(postCount / CONTENT_PER_PAGE) : 0;\n  const pages = Array.from(new Array(pageCount), (cnt, i) => i + 1);\n  const page = getPage(location);\n  const hasManyPages = pageCount >= PAGE_PER_SCREEN;\n  const filteredPages = hasManyPages ? pages.filter(p => (\n    Math.abs(page - p) <= Math.floor(PAGE_PER_SCREEN / 2)\n  )) : pages;\n  const isNearStart = filteredPages.includes(1);\n  const isNearEnd = filteredPages.includes(pageCount);\n\n  if (pages.length === 0) {\n    return null;\n  }\n\n  return (\n    <Wrapper>\n      <ul>\n        {hasManyPages && !isNearStart ? (\n          <>\n            <li>\n              <Link to={`${prefix}1`}>\n                <FaAngleDoubleLeft />\n              </Link>\n            </li>\n            <li>\n              <FaEllipsisH />\n            </li>\n          </>\n        ) : null}\n        {page !== 1 ? (\n          <li>\n            <Link to={`${prefix}${page - 1}`}>\n              <FaAngleLeft />\n            </Link>\n          </li>\n        ) : null}\n        {filteredPages.map((i) => {\n          if (page === i) {\n            return (\n              <li\n                key={i}\n                className={page === i ? 'active' : ''}\n              >\n                {i}\n              </li>\n            );\n          }\n\n          return (\n            <li\n              key={i}\n              className={page === i ? 'active' : ''}\n            >\n              <Link to={`${prefix}${i}`}>\n                {i}\n              </Link>\n            </li>\n          );\n        })}\n        {pageCount !== page ? (\n          <li>\n            <Link to={`${prefix}${page + 1}`}>\n              <FaAngleRight />\n            </Link>\n          </li>\n        ) : null}\n        {hasManyPages && !isNearEnd ? (\n          <>\n            <li>\n              <FaEllipsisH />\n            </li>\n            <li>\n              <Link to={`${prefix}${pageCount}`}>\n                <FaAngleDoubleRight />\n              </Link>\n            </li>\n          </>\n        ) : null}\n      </ul>\n    </Wrapper>\n  );\n};\n\nPagination.propTypes = {\n  postCount: PropTypes.number.isRequired,\n  location: PropTypes.shape({ pathname: PropTypes.string.isRequired }).isRequired,\n  prefix: PropTypes.string,\n};\n\nPagination.defaultProps = {\n  prefix: '/pages/',\n};\n\nexport default Pagination;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Helmet from 'react-helmet';\nimport PostsWrapper from '~/components/Common/PostsWrapper';\nimport Card from '~/components/Common/Card';\nimport Pagination from '~/components/Common/Pagination';\nimport getPosts from '~/utils/getPosts';\nimport getPage from '~/utils/getPage';\nimport { PREFIX, CONTENT_PER_PAGE } from '~/constants';\n\nconst TaggedList = ({ data, location }) => {\n  const page = getPage(location);\n  const [, , tag] = location.pathname.split('/');\n  const allPosts = data\n    |> getPosts\n    |> (posts => posts.filter(({ node: { frontmatter: { tags } } }) => tags.includes(tag)));\n  const postCount = allPosts.length;\n  const posts = allPosts.slice((page - 1) * CONTENT_PER_PAGE, page * CONTENT_PER_PAGE);\n\n  return (\n    <>\n      <PostsWrapper>\n        <Helmet>\n          <title>\n            {`${PREFIX}${tag.toUpperCase()}`}\n          </title>\n          <meta name=\"og:title\" content={`${PREFIX}${tag.toUpperCase()}`} />\n        </Helmet>\n        {posts.length === 0 ? (\n          <div>\n            No posts.\n          </div>\n        ) : null}\n        {posts.map(({ node: { frontmatter: { images, tags, path, ...otherProps } } }) => (\n          <Card key={path} path={path} tags={tags} images={images} {...otherProps} />\n        ))}\n      </PostsWrapper>\n      <Pagination\n        prefix={`/tags/${tag}/`}\n        postCount={postCount}\n        location={location}\n      />\n    </>\n  );\n};\n\nTaggedList.propTypes = {\n  data: PropTypes.shape({}).isRequired,\n  location: PropTypes.shape({}).isRequired,\n};\n\nexport default TaggedList;\n","import React from 'react';\nimport { graphql } from 'gatsby';\nimport Layout from '~/components/layout';\nimport TaggedList from '~/components/TaggedList';\n\nconst TaggedListTemplate = props => (\n    <TaggedList {...props} />\n);\n\nexport default TaggedListTemplate;\n\nexport const pageQuery = graphql`\n  query TaggedListQuery {\n    site {\n      siteMetadata {\n        title\n        author\n        homepage\n      }\n    }\n    posts: allMarkdownRemark (\n      filter: { frontmatter: { hide: { ne: true } } }\n      sort: { fields: [frontmatter___date], order: DESC }\n    ) {\n      edges {\n        node {\n          frontmatter {\n            type\n            title\n            images\n            path\n            tags\n            date\n            summary\n          }\n        }\n      }\n    }\n  }\n`;\n"],"sourceRoot":""}