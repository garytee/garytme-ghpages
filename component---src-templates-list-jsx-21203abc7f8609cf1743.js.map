{"version":3,"sources":["webpack:///./src/components/Common/PostsWrapper/index.js","webpack:///./src/utils/getPage.js","webpack:///./src/components/List/index.jsx","webpack:///./src/templates/List.jsx","webpack:///./src/components/Common/Pagination/styled.js","webpack:///./src/components/Common/Pagination/index.jsx"],"names":["PostsWrapper","styled","section","getPage","pathname","split","type","$2","$3","Number","List","data","location","page","allPosts","getPosts","postCount","length","posts","slice","CONTENT_PER_PAGE","Helmet","PREFIX","name","content","map","node","frontmatter","images","tags","path","otherProps","Card","key","Pagination","propTypes","PropTypes","shape","isRequired","ListTemplate","props","Wrapper","nav","prefix","pageCount","Math","ceil","pages","Array","from","cnt","i","hasManyPages","PAGE_PER_SCREEN","filteredPages","filter","p","abs","floor","isNearStart","includes","isNearEnd","to","className","number","string","defaultProps"],"mappings":"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","file":"component---src-templates-list-jsx-21203abc7f8609cf1743.js","sourcesContent":["import styled from 'styled-components';\n\nconst PostsWrapper = styled.section`\n  margin: auto;\n  padding: 120px 0 0;\n  max-width: 1176px;\n  font-size: 0;\n  @media (max-width: 414px) {\n    padding: 70px 16px 0;\n  }\n\n  &:before,\n  &:after {\n    display: block;\n    content: '';\n    clear: both;\n  }\n\n  h1 {\n    margin: .67em 0;\n    font-size: 32px;\n  }\n\n  time {\n    margin: 1em 0;\n    font-size: 14px;\n  }\n`;\n\nexport default PostsWrapper;\n","const getPage = ({ pathname }) => {\n  const [, type, $2, $3] = pathname.split('/');\n  if (type === 'pages') {\n    return Number($2) || 1;\n  }\n\n  return Number($3) || 1;\n};\n\nexport default getPage;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Helmet from 'react-helmet';\nimport PostsWrapper from '~/components/Common/PostsWrapper';\nimport Card from '~/components/Common/Card';\nimport Pagination from '~/components/Common/Pagination';\nimport getPosts from '~/utils/getPosts';\nimport getPage from '~/utils/getPage';\nimport { PREFIX, CONTENT_PER_PAGE } from '~/constants';\n\nconst List = ({ data, location }) => {\n  const page = getPage(location);\n  const allPosts = getPosts(data);\n  const postCount = allPosts.length;\n  const posts = allPosts.slice((page - 1) * CONTENT_PER_PAGE, page * CONTENT_PER_PAGE);\n\n  return (\n    <>\n      <PostsWrapper>\n        <Helmet>\n          <title>\n            {`${PREFIX}POSTS`}\n          </title>\n          <meta name=\"og:title\" content={`${PREFIX}POSTS`} />\n        </Helmet>\n        {posts.map(({ node: { frontmatter: { images, tags, path, ...otherProps } } }) => (\n          <Card key={path} path={path} images={images} tags={tags} {...otherProps} />\n        ))}\n      </PostsWrapper>\n      <Pagination postCount={postCount} location={location} />\n    </>\n  );\n};\n\nList.propTypes = {\n  data: PropTypes.shape({}).isRequired,\n  location: PropTypes.shape({}).isRequired,\n};\n\nexport default List;\n","import React from 'react';\nimport { graphql } from 'gatsby';\nimport Layout from '~/components/layout';\nimport List from '~/components/List';\n\nconst ListTemplate = props => (\n    <List {...props} />\n);\n\nexport default ListTemplate;\n\nexport const pageQuery = graphql`\n  query ListQuery {\n    site {\n      siteMetadata {\n        title\n        author\n        homepage\n      }\n    }\n    posts: allMarkdownRemark (\n      filter: { frontmatter: { hide: { ne: true } } }\n      sort: { fields: [frontmatter___date], order: DESC }\n    ) {\n      edges {\n        node {\n          frontmatter {\n            type\n            title\n            images\n            heroimages {\n            childImageSharp {\n                fluid(maxWidth: 720) {\n                    ...GatsbyImageSharpFluid_withWebp_noBase64\n                }\n            }\n            publicURL\n        }\n            path\n            tags\n            date\n            summary\n          }\n        }\n      }\n    }\n  }\n`;\n","import styled from 'styled-components';\n\nexport const Wrapper = styled.nav`\n  margin: 1em 0;\n  text-align: center;\n\n  ul {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n  }\n\n  li {\n    display: flex;\n    padding: 0 .4em;\n  }\n`;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Link } from 'gatsby';\nimport { FaAngleDoubleLeft, FaAngleDoubleRight, FaAngleLeft, FaAngleRight, FaEllipsisH } from 'react-icons/fa';\nimport { CONTENT_PER_PAGE, PAGE_PER_SCREEN } from '~/constants';\nimport getPage from '~/utils/getPage';\nimport { Wrapper } from './styled';\n\nconst Pagination = ({\n  postCount,\n  location,\n  prefix,\n}) => {\n  const pageCount = postCount ? Math.ceil(postCount / CONTENT_PER_PAGE) : 0;\n  const pages = Array.from(new Array(pageCount), (cnt, i) => i + 1);\n  const page = getPage(location);\n  const hasManyPages = pageCount >= PAGE_PER_SCREEN;\n  const filteredPages = hasManyPages ? pages.filter(p => (\n    Math.abs(page - p) <= Math.floor(PAGE_PER_SCREEN / 2)\n  )) : pages;\n  const isNearStart = filteredPages.includes(1);\n  const isNearEnd = filteredPages.includes(pageCount);\n\n  if (pages.length === 0) {\n    return null;\n  }\n\n  return (\n    <Wrapper>\n      <ul>\n        {hasManyPages && !isNearStart ? (\n          <>\n            <li>\n              <Link to={`${prefix}1`}>\n                <FaAngleDoubleLeft />\n              </Link>\n            </li>\n            <li>\n              <FaEllipsisH />\n            </li>\n          </>\n        ) : null}\n        {page !== 1 ? (\n          <li>\n            <Link to={`${prefix}${page - 1}`}>\n              <FaAngleLeft />\n            </Link>\n          </li>\n        ) : null}\n        {filteredPages.map((i) => {\n          if (page === i) {\n            return (\n              <li\n                key={i}\n                className={page === i ? 'active' : ''}\n              >\n                {i}\n              </li>\n            );\n          }\n\n          return (\n            <li\n              key={i}\n              className={page === i ? 'active' : ''}\n            >\n              <Link to={`${prefix}${i}`}>\n                {i}\n              </Link>\n            </li>\n          );\n        })}\n        {pageCount !== page ? (\n          <li>\n            <Link to={`${prefix}${page + 1}`}>\n              <FaAngleRight />\n            </Link>\n          </li>\n        ) : null}\n        {hasManyPages && !isNearEnd ? (\n          <>\n            <li>\n              <FaEllipsisH />\n            </li>\n            <li>\n              <Link to={`${prefix}${pageCount}`}>\n                <FaAngleDoubleRight />\n              </Link>\n            </li>\n          </>\n        ) : null}\n      </ul>\n    </Wrapper>\n  );\n};\n\nPagination.propTypes = {\n  postCount: PropTypes.number.isRequired,\n  location: PropTypes.shape({ pathname: PropTypes.string.isRequired }).isRequired,\n  prefix: PropTypes.string,\n};\n\nPagination.defaultProps = {\n  prefix: '/pages/',\n};\n\nexport default Pagination;\n"],"sourceRoot":""}